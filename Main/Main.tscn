[gd_scene format=3 uid="uid://daag6pqlwuqvh"]

[ext_resource type="PackedScene" uid="uid://dlwqgq3s82vfb" path="res://background/Trails/Trail.tscn" id="1_lxy7q"]
[ext_resource type="Script" uid="uid://dxtfssgn8ysks" path="res://Main/main.gd" id="1_u2i7p"]
[ext_resource type="PackedScene" uid="uid://bkh1l86ybykfh" path="res://Miner/miner.tscn" id="2_83ytx"]
[ext_resource type="PackedScene" uid="uid://bper726qsvdl2" path="res://background/cave/cave.tscn" id="3_6aewd"]
[ext_resource type="PackedScene" uid="uid://bbnb0dj0jfa7e" path="res://background/back/background.tscn" id="3_amygn"]
[ext_resource type="PackedScene" uid="uid://yxfr0kw4eqgt" path="res://Main/StoneSpawner.tscn" id="4_ps1la"]
[ext_resource type="PackedScene" uid="uid://b4xyqh8b3xpph" path="res://UI/upgrade.tscn" id="5_6aewd"]
[ext_resource type="Texture2D" uid="uid://br3kmjpfnkdtj" path="res://grafiki/grass.png" id="5_lrfe7"]
[ext_resource type="Script" uid="uid://c0jc5h62o651y" path="res://Main/ore_spawner.gd" id="7_qd626"]
[ext_resource type="Texture2D" uid="uid://devg5dioucfib" path="res://grafiki/budynek.png" id="8_h5g1y"]
[ext_resource type="Texture2D" uid="uid://btt8gfwa2nhbs" path="res://grafiki/dzwig.png" id="9_qd626"]
[ext_resource type="Texture2D" uid="uid://45d8ie3hfcq6" path="res://grafiki/komin2.png" id="10_6ivxk"]
[ext_resource type="Texture2D" uid="uid://bmyp4flim8bow" path="res://grafiki/pixil-frame-0_8.png" id="11_6yo1i"]
[ext_resource type="Texture2D" uid="uid://duu4wvyhme6uk" path="res://grafiki/rampa.png" id="12_lrfe7"]
[ext_resource type="Texture2D" uid="uid://c27wef3lmgtss" path="res://grafiki/2 domek.png" id="13_r2ac1"]
[ext_resource type="Texture2D" uid="uid://da0x04qboi6qn" path="res://grafiki/toryy.png" id="15_6yo1i"]
[ext_resource type="Texture2D" uid="uid://bigsf3lnhwmer" path="res://grafiki/wagonik.png" id="16_lrfe7"]
[ext_resource type="Script" uid="uid://cmhfsogjibqpw" path="res://Skrypt/animation_player.gd" id="16_r2ac1"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_r2ac1"]
texture = ExtResource("5_lrfe7")
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
5:0/0 = 0
6:0/0 = 0
7:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
4:1/0 = 0
5:1/0 = 0
6:1/0 = 0
7:1/0 = 0

[sub_resource type="TileSet" id="TileSet_d3r6l"]
sources/0 = SubResource("TileSetAtlasSource_r2ac1")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_qd626"]
size = Vector2(196, 218)

[sub_resource type="Animation" id="Animation_r2ac1"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Wagonik:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(2237.0002, -172)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../AnimationPlayer3/Wagonik3:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(2123.0002, -172)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("../AnimationPlayer2/Wagonik2:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(2880.0002, -172)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("AnimationPlayer1/Wagonik:position")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(2237.0002, -172)]
}

[sub_resource type="Animation" id="Animation_d3r6l"]
resource_name = "wagon1"
length = 14.666667
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Wagonik:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 2.05, 3.57, 6.09, 7.0333333),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 0,
"values": [Vector2(2237.0002, -172), Vector2(2672, -172), Vector2(2672, -172), Vector2(3615, -172), Vector2(3596, -172)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimationPlayer1/Wagonik:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 3.0666666, 6.233333, 7.4420004, 10.566667, 12.866667),
"transitions": PackedFloat32Array(1, 1, 1, 1, 0.9999991, 1),
"update": 0,
"values": [Vector2(2237.0002, -172), Vector2(2957, -172), Vector2(3567, -172), Vector2(3604, -172), Vector2(2658, -172), Vector2(3565, -172)]
}

[sub_resource type="Animation" id="Animation_fayjp"]
resource_name = "wagon2"
length = 11.666667
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../AnimationPlayer2/Wagonik2:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 5.245463, 7.9665465),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(2880.0002, -172), Vector2(3569, -172), Vector2(3568.9998, -172)]
}

[sub_resource type="Animation" id="Animation_j2iu7"]
resource_name = "wagon3"
length = 25.033333
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../AnimationPlayer3/Wagonik3:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 12.5554695, 14.7053795),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(2123.0002, -172), Vector2(3627, -172), Vector2(3647, -172)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_j4nmm"]
_data = {
&"RESET": SubResource("Animation_r2ac1"),
&"wagon1": SubResource("Animation_d3r6l"),
&"wagon2": SubResource("Animation_fayjp"),
&"wagon3": SubResource("Animation_j2iu7")
}

[node name="Main" type="Node2D" unique_id=2043031081]
script = ExtResource("1_u2i7p")

[node name="background" parent="." unique_id=2010711369 node_paths=PackedStringArray("player") instance=ExtResource("3_amygn")]
z_index = -10
layer_0/tile_data = PackedInt32Array(-22, 131077, 1, -21, 196613, 1, -20, 262149, 1, -19, 327685, 1, -18, 393221, 1, -17, 458757, 1, -16, 5, 1, -15, 65541, 1, -14, 131077, 1, -13, 196613, 1, -12, 262149, 1, -11, 327685, 1, -10, 393221, 1, -9, 458757, 1, -8, 5, 1, -7, 65541, 1, -6, 131077, 1, -5, 196613, 1, -4, 262149, 1, -3, 327685, 1, -2, 393221, 1, -1, 458757, 1, -65536, 5, 1, -65535, 65541, 1, -65534, 131077, 1, -65533, 196613, 1, -65532, 262149, 1, -65531, 327685, 1, -65530, 393221, 1, -65529, 458757, 1, -65528, 5, 1, -65527, 65541, 1, -65526, 131077, 1, -65525, 196613, 1, -65524, 262149, 1, -65523, 327685, 1, -65522, 393221, 1, -65521, 458757, 1, -65520, 5, 1, -65519, 65541, 1, -65518, 131077, 1, -65517, 196613, 1, -65516, 262149, 1, -65515, 327685, 1, -65514, 393221, 1, -65513, 458757, 1, -65512, 5, 1, -65511, 65541, 1, -65510, 131077, 1, -65509, 196613, 1, -65508, 262149, 1, -65507, 327685, 1, -65506, 393221, 1, -65505, 458757, 1, -65504, 5, 1, -65503, 65541, 1, -65502, 131077, 1, -65501, 196613, 1, -65500, 262149, 1, -65499, 327685, 1, -65498, 393221, 1, -65497, 458757, 1, -65496, 5, 1, -65495, 65541, 1, -65494, 131077, 1, -65493, 196613, 1, -65492, 262149, 1, -65491, 5, 1, -65490, 65541, 1, -65489, 131077, 1, -65488, 196613, 1, -65487, 262149, 1, -65486, 327685, 1, -65485, 393221, 1, -65484, 458757, 1, -65483, 5, 1, -65482, 65541, 1, -65481, 131077, 1, -65480, 196613, 1, -65479, 262149, 1, -65478, 327685, 1, -65477, 393221, 1, -65476, 458757, 1, -65475, 5, 1, -65474, 65541, 1, -65473, 131077, 1, -65472, 196613, 1, -65471, 262149, 1, -65470, 327685, 1, -65469, 393221, 1, -65468, 458757, 1, -65467, 5, 1, -65466, 65541, 1, -65465, 131077, 1, -65464, 196613, 1, -65463, 262149, 1, -65462, 327685, 1, -65461, 5, 1, -65460, 65541, 1, -65459, 131077, 1, -65458, 196613, 1, -65457, 262149, 1, -65456, 327685, 1, -65455, 393221, 1, -65454, 458757, 1, -65453, 5, 1, -65452, 65541, 1, -65451, 131077, 1, -65450, 196613, 1, -65449, 262149, 1)
player = NodePath("../Miner")

[node name="Trail" parent="." unique_id=368303599 node_paths=PackedStringArray("player") instance=ExtResource("1_lxy7q")]
texture_filter = 1
texture_repeat = 1
player = NodePath("../Miner")

[node name="Cave" parent="." unique_id=1266497843 node_paths=PackedStringArray("player", "mark") instance=ExtResource("3_6aewd")]
player = NodePath("../Miner")
mark = NodePath("../Miner/Marker2D")

[node name="TileMap" type="TileMap" parent="." unique_id=574957829]
scale = Vector2(5, 5)
tile_set = SubResource("TileSet_d3r6l")
format = 2
layer_0/tile_data = PackedInt32Array(-65537, 458752, 0, -131072, 65536, 0, -131071, 131072, 0, -131070, 196608, 0, -131069, 262144, 0, -131068, 327680, 0, -131067, 393216, 0, -131066, 458752, 0, -131065, 0, 0, -131064, 65536, 0, -131063, 131072, 0, -131062, 196608, 0, -131061, 262144, 0, -131060, 327680, 0, -131059, 393216, 0, -131058, 458752, 0, -131057, 0, 0, -131056, 65536, 0, -131055, 131072, 0, -131054, 196608, 0, -131053, 262144, 0, -131052, 327680, 0, -131051, 393216, 0, -131050, 458752, 0, -131049, 0, 0, -131048, 65536, 0, -131047, 131072, 0, -131046, 196608, 0, -131045, 262144, 0, -131044, 327680, 0, -131043, 0, 0, -131042, 65536, 0, -131041, 131072, 0, -131040, 196608, 0, -131039, 262144, 0, -131038, 327680, 0, -131037, 393216, 0, -131036, 458752, 0, -131035, 0, 0, -131034, 65536, 0, -131033, 131072, 0, -131032, 196608, 0, -131031, 262144, 0, -131030, 327680, 0, -131029, 393216, 0, -131028, 458752, 0, -131027, 0, 0, -131026, 65536, 0, -131025, 131072, 0, -131024, 196608, 0, -131023, 262144, 0, -131022, 0, 0, -131021, 65536, 0, -131020, 131072, 0, -131019, 196608, 0, -131018, 262144, 0, -131017, 327680, 0, -131016, 393216, 0, -131015, 458752, 0, -131014, 0, 0, -131013, 65536, 0, -131012, 131072, 0, -131011, 196608, 0, -131010, 262144, 0, -131009, 327680, 0, -131008, 393216, 0, -131007, 458752, 0, -131006, 0, 0, -131005, 65536, 0, -131004, 131072, 0, -131003, 196608, 0, -131002, 262144, 0, -131001, 0, 0, -131000, 65536, 0, -130999, 131072, 0, -130998, 196608, 0, -130997, 262144, 0, -130996, 327680, 0, -130995, 393216, 0, -130994, 458752, 0, -130993, 0, 0, -130992, 0, 0, -130991, 65536, 0, -130990, 131072, 0, -130989, 196608, 0, -130988, 262144, 0, -130987, 327680, 0, -130986, 393216, 0, -130985, 458752, 0, -65544, 393216, 0, -65543, 458752, 0, -65542, 131072, 0, -65541, 196608, 0, -65540, 262144, 0, -65539, 327680, 0, -65538, 393216, 0, -65550, 393216, 0, -65549, 458752, 0, -65548, 131072, 0, -65547, 196608, 0, -65546, 262144, 0, -65545, 327680, 0, -65556, 131072, 0, -65555, 196608, 0, -65554, 262144, 0, -65553, 327680, 0, -65552, 393216, 0, -65551, 458752, 0, -65558, 0, 0, -65557, 65536, 0)

[node name="ColorRect" type="ColorRect" parent="." unique_id=335695137]
offset_left = 1037.0
offset_top = -1819.0
offset_right = 5514.0
offset_bottom = -146.0
color = Color(0, 0.43518087, 0.43518078, 1)

[node name="Miner" parent="." unique_id=543357979 node_paths=PackedStringArray("main") instance=ExtResource("2_83ytx")]
position = Vector2(1, 1)
main = NodePath("..")

[node name="StoneSpawner" parent="Miner" unique_id=870286894 instance=ExtResource("4_ps1la")]

[node name="Marker2D" type="Marker2D" parent="Miner" unique_id=1688035200]
position = Vector2(0, 44)

[node name="OreSpawner" type="Node2D" parent="Miner" unique_id=1671883718]
script = ExtResource("7_qd626")

[node name="Timer" type="Timer" parent="Miner/OreSpawner" unique_id=1291952246]
process_callback = 0
wait_time = 2.0
autostart = true

[node name="PlayerCamera" type="Camera2D" parent="." unique_id=1279858724]
position = Vector2(600, 0)
zoom = Vector2(0.7, 0.7)

[node name="StoneHolder" type="Node2D" parent="." unique_id=1223212018]

[node name="OreHolder" type="Node2D" parent="." unique_id=168986519]

[node name="CanvasLayer" type="CanvasLayer" parent="." unique_id=1611012102]

[node name="Upgrade" parent="CanvasLayer" unique_id=592570759 instance=ExtResource("5_6aewd")]
visible = false

[node name="Budynek" type="Sprite2D" parent="." unique_id=841508329]
self_modulate = Color(0.98, 0.735, 0.735, 1)
z_index = 3
texture_filter = 1
position = Vector2(2809, -292)
scale = Vector2(6.805555, 6.805555)
texture = ExtResource("8_h5g1y")

[node name="Dzwig" type="Sprite2D" parent="." unique_id=94333824]
texture_filter = 1
position = Vector2(2582, -403)
scale = Vector2(5.1749997, 5.1749997)
texture = ExtResource("9_qd626")

[node name="Komin2" type="Sprite2D" parent="." unique_id=1804534970]
z_index = 3
texture_filter = 1
position = Vector2(4032, -381.00003)
scale = Vector2(8, 7.352)
texture = ExtResource("10_6ivxk")

[node name="PixilFrame08" type="Sprite2D" parent="." unique_id=1800816549]
texture_filter = 1
position = Vector2(3134, -346)
scale = Vector2(8.125, 8.125)
texture = ExtResource("11_6yo1i")

[node name="Rampa" type="Sprite2D" parent="." unique_id=98880928]
texture_filter = 1
position = Vector2(3461, -383.99997)
scale = Vector2(5.4375, 5.4658756)
texture = ExtResource("12_lrfe7")

[node name="2Domek" type="Sprite2D" parent="." unique_id=1444202637]
self_modulate = Color(1, 1, 1, 0.78431374)
z_index = 3
texture_filter = 1
position = Vector2(3689.9998, -279)
scale = Vector2(5.9888887, 5.9888887)
texture = ExtResource("13_r2ac1")
flip_h = true

[node name="Area2D" type="Area2D" parent="." unique_id=1865487638]
position = Vector2(3498, -313)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Area2D" unique_id=1038489944]
position = Vector2(0, 57)
shape = SubResource("RectangleShape2D_qd626")

[node name="Toryy" type="Sprite2D" parent="." unique_id=33813446]
texture_filter = 1
position = Vector2(3268, -152)
scale = Vector2(2, 2)
texture = ExtResource("15_6yo1i")

[node name="Toryy2" type="Sprite2D" parent="." unique_id=1305356432]
texture_filter = 1
position = Vector2(2361, -152)
scale = Vector2(2, 2)
texture = ExtResource("15_6yo1i")

[node name="AnimationPlayer3" type="AnimationPlayer" parent="." unique_id=1284157666]
root_node = NodePath("../AnimationPlayer1")
libraries/ = SubResource("AnimationLibrary_j4nmm")
autoplay = &"wagon3"
script = ExtResource("16_r2ac1")

[node name="Wagonik3" type="Sprite2D" parent="AnimationPlayer3" unique_id=1935821500]
texture_filter = 1
position = Vector2(2123.0002, -172)
scale = Vector2(1.6, 1.6)
texture = ExtResource("16_lrfe7")

[node name="AnimationPlayer2" type="AnimationPlayer" parent="." unique_id=1244417812]
root_node = NodePath("../AnimationPlayer1")
libraries/ = SubResource("AnimationLibrary_j4nmm")
autoplay = &"wagon2"
script = ExtResource("16_r2ac1")

[node name="Wagonik2" type="Sprite2D" parent="AnimationPlayer2" unique_id=1818105879]
texture_filter = 1
position = Vector2(2880.0002, -172)
scale = Vector2(1.6, 1.6)
texture = ExtResource("16_lrfe7")

[node name="AnimationPlayer1" type="AnimationPlayer" parent="." unique_id=291072817]
libraries/ = SubResource("AnimationLibrary_j4nmm")
autoplay = &"wagon1"
script = ExtResource("16_r2ac1")

[node name="Wagonik" type="Sprite2D" parent="AnimationPlayer1" unique_id=452992514]
texture_filter = 1
position = Vector2(2237.0002, -172)
scale = Vector2(1.6, 1.6)
texture = ExtResource("16_lrfe7")

[connection signal="timeout" from="Miner/OreSpawner/Timer" to="Miner/OreSpawner" method="_on_timer_timeout"]
[connection signal="body_entered" from="Area2D" to="." method="_on_area_2d_body_entered"]
